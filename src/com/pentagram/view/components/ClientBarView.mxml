<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx">

	<s:layout>
		<s:BasicLayout clipAndEnableScrolling="true" />
	</s:layout>
	<s:SkinnableContainer backgroundColor="0xE3E4E4" height="50" width="100%">
		
		<s:layout>
			<s:HorizontalLayout gap="0" verticalAlign="middle"  paddingLeft="5"/>
		</s:layout>
		<mx:Image id="logo"  source="{Constants.FILES_URL+client.thumbs}"/>
		
		<s:Rect width="15" />
		<s:Rect width="1" height="100%">
			<s:fill>
				<s:SolidColor color="0x666666" />
			</s:fill>
		</s:Rect>
		<s:Rect width="15" />
		
		<s:Label text="Full Name:" />
		<s:Rect width="4" />
		<s:Label text="{client.name}"  />
		<s:Rect width="10" />
		
		<s:Label text="Founded:" />
		<s:Rect width="4" />
		<s:Label text="{client.founded.toString()}"  />
		<s:Rect width="10" />
		
		<s:Label text="Industry:" />
		<s:Rect width="4" />
		<s:Label text="{client.tags.toString()}"  />		
		<s:Rect width="10" />
		
		<s:Label text="Website:" />
		<s:Rect width="4" />
		<s:Label text="{client.website}"  />
		<s:Rect width="100%" />
		
		<s:Rect width="1" height="100%">
			<s:fill>
				<s:SolidColor color="0x666666" />
			</s:fill>
		</s:Rect>	
		
		<s:ToggleButton id="infoBtn" 
		click="togglebutton1_clickHandler(event)" skinClass="com.pentagram.view.skins.ClientInfoButtonSkin" width="100" height="100%" focusEnabled="false" />
	</s:SkinnableContainer>											

	<s:Rect width="100%" height="1" top="50">
		<s:fill>
			<s:SolidColor color="0x666666" />
		</s:fill>
	</s:Rect>
	
	<s:Group width="100%" height="350"  top="51"  visible.opened="true" id="infoPanelContainer">
		<s:clipAndEnableScrolling>true</s:clipAndEnableScrolling>
		<s:SkinnableContainer id="infoPanel" width="100%" height="100%" backgroundColor="0xE3E4E4" backgroundAlpha="0.8" y.closed="-600" y.opened="0">
			<s:layout>
				<s:VerticalLayout paddingLeft="10" paddingRight="10" paddingTop="10" paddingBottom="5" gap="15"/>
			</s:layout>
			<s:Label fontSize="24" fontFamily="FlamaBold" text="{client.name}"  />
			<s:HGroup gap="10" width="100%" height="100%">
				<s:VGroup width="100%" height="100%">
					
					<s:Rect width="100%" height="1">
						<s:fill>
							<s:SolidColor color="0x999999"/>
						</s:fill>
					</s:Rect>
					<s:Label text="Full Name" />
					<s:Label text="{client.name}"  />
					<s:Rect height="4" />

					<s:Rect width="100%" height="1">
						<s:fill>
							<s:SolidColor color="0x999999"/>
						</s:fill>
					</s:Rect>					
					<s:Label text="Founded" />
					<s:Label text="{client.founded.toString()}"  />
					<s:Rect height="4" />

					<s:Rect width="100%" height="1">
						<s:fill>
							<s:SolidColor color="0x999999"/>
						</s:fill>
					</s:Rect>					
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label text="Headquarters" />
						<s:Rect width="100%" />
						<s:Button label="map" />
					</s:HGroup>
					<s:Label text="{client.headquarters}"  />		
					<s:Rect height="4" />
					
					<s:Rect width="100%" height="1">
						<s:fill>
							<s:SolidColor color="0x999999"/>
						</s:fill>
					</s:Rect>					
					<s:Label text="Employees" />
					<s:Label text="{client.employees.toString()}"  />		
					<s:Rect height="4" />
					
				</s:VGroup>
				<s:VGroup width="100%" height="100%">
					<s:Rect width="100%" height="1">
						<s:fill>
							<s:SolidColor color="0x999999"/>
						</s:fill>
					</s:Rect>
				</s:VGroup>
				
				<s:VGroup width="100%" height="100%">
					<s:Rect width="100%" height="1">
						<s:fill>
							<s:SolidColor color="0x999999"/>
						</s:fill>
					</s:Rect>
					<s:Label text="Website" />
					<s:Button label="{client.website}" />
					<s:Rect height="4" />
					
					<s:Rect width="100%" height="1">
						<s:fill>
							<s:SolidColor color="0x999999"/>
						</s:fill>
					</s:Rect>
					<s:Label text="Similar Companies in View" />
					<s:List dataProvider="{new ArrayList(client.relatedcontent.split(','))}" borderVisible="false">
						<s:layout>
							<s:VerticalLayout gap="2" />
						</s:layout>
						<s:itemRenderer>
							<fx:Component>
								<s:ItemRenderer>
									<s:Button  label="{this.data}"/>	
								</s:ItemRenderer>
							</fx:Component>
						</s:itemRenderer>
					</s:List>
				</s:VGroup>
			</s:HGroup>
		</s:SkinnableContainer>	
	</s:Group>
	
	
	
	<fx:Script>
		<![CDATA[
			import com.pentagram.controller.Constants;
			import com.pentagram.model.vo.Client;
			
			import mx.collections.ArrayList;
			[Bindable] public var client:Client;

			protected function togglebutton1_clickHandler(event:MouseEvent):void
			{
				this.currentState = infoBtn.selected ? "opened":"closed";
			}

		]]>
	</fx:Script>
	<s:states>
		<s:State name="closed" id="closedState" />
		<s:State name="opened" id="openedState" />	
	</s:states>
	<s:transitions>
		<s:Transition toState="closed">
			<s:Sequence>
				<s:Move target="{infoPanel}" duration="500" />
				<s:SetAction property="visible" value="false" target="{infoPanelContainer}" />
			</s:Sequence>	
		</s:Transition>
		<s:Transition toState="opened">
			<s:Move target="{infoPanel}" duration="500" />
		</s:Transition>
	</s:transitions>
</s:Group>
